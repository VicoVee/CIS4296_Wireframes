<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genomic Orchestra</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-dark: #212529;
            --secondary-gray: #d9d9d9;
            --accent-purple: #9b51e0; /* Matches the wireframe progress color */
            --bg-light: #f8f9fa;
        }

        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- Navbar Styling --- */
        .navbar {
            padding: 1.5rem 2rem;
            background: white;
            transition: all 0.3s ease;
        }

        .navbar-brand {
            font-size: 2rem;
            font-weight: 700;
            font-family: serif; 
            display: flex;
            align-items: center;
            position: relative;
            width: 60px;
            height: 60px;
            justify-content: center;
        }
        
        .dna-icon {
            font-size: 1.5rem;
            margin-left: 2px;
        }

        /* Radial Progress Bar Container (Around Logo) */
        .logo-progress-container {
            position: relative;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        /* SVG Ring for Progress */
        .progress-ring {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform: rotate(-90deg); /* Start from top */
            pointer-events: none;
            display: none; /* Hidden on home, shown in wizard */
        }

        .progress-ring__circle {
            transition: stroke-dashoffset 0.35s;
            transform-origin: 50% 50%;
            stroke: var(--accent-purple);
            stroke-width: 4;
            fill: transparent;
            opacity: 0.5;
        }

        .progress-ring__bg {
            stroke: #e0e0e0;
            stroke-width: 4;
            fill: transparent;
        }

        .nav-link {
            color: #333;
            font-weight: 500;
            margin: 0 10px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #333;
            cursor: pointer;
        }

        /* --- Hero Section --- */
        .hero-section {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding-top: 3rem;
            position: relative;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            letter-spacing: -1px;
        }

        .hero-description {
            max-width: 800px;
            font-size: 1.25rem;
            color: #555;
            line-height: 1.6;
            margin-bottom: 4rem;
            padding: 0 20px;
        }

        .dome-container {
            width: 100%;
            flex-grow: 1;
            background-color: var(--secondary-gray);
            border-top-left-radius: 50% 100%;
            border-top-right-radius: 50% 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 4rem 0;
            position: relative;
            min-height: 500px;
            margin-top: auto;
        }

        .action-btn {
            background-color: var(--primary-dark);
            color: white;
            border: none;
            padding: 1.5rem;
            width: 350px;
            font-size: 1.1rem;
            border-radius: 8px;
            margin: 1rem 0;
            transition: transform 0.2s, background-color 0.2s;
            text-transform: capitalize;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            background-color: #000;
            color: white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }

        /* --- Wizard / Create Section Styles --- */
        .wizard-container {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .wizard-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .wizard-search {
            background: #e9ecef;
            border-radius: 30px;
            padding: 0.8rem 1.5rem;
            width: 100%;
            max-width: 400px;
            border: none;
            margin-bottom: 3rem;
            display: flex;
            align-items: center;
        }

        .wizard-search input {
            border: none;
            background: transparent;
            width: 100%;
            outline: none;
            margin-left: 10px;
            color: #555;
        }

        /* Custom Carousel/Card Selector */
        .phylogeny-carousel {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            position: relative;
            height: 450px;
            perspective: 1000px;
        }

        .phylo-card {
            width: 300px;
            height: 380px;
            background: #d9d9d9;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: absolute;
            transition: all 0.5s ease-in-out;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .phylo-card.active {
            z-index: 10;
            transform: scale(1.1) translateX(0);
            background: #e0e0e0; /* Lighter/Focused */
            opacity: 1;
            border: 2px solid #333;
        }

        .phylo-card.prev {
            z-index: 5;
            transform: scale(0.85) translateX(-120%);
            opacity: 0.6;
            background: #999;
        }

        .phylo-card.next {
            z-index: 5;
            transform: scale(0.85) translateX(120%);
            opacity: 0.6;
            background: #999;
        }

        .phylo-card.hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(0.5);
            z-index: 0;
        }

        .phylo-image-placeholder {
            width: 80%;
            height: 60%;
            border: 2px solid #555;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        .nav-arrow {
            font-size: 3rem;
            color: #333;
            cursor: pointer;
            user-select: none;
            transition: transform 0.2s;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 20;
        }
        
        .nav-arrow:hover {
            transform: translateY(-50%) scale(1.1);
        }

        .arrow-left { left: 10%; }
        .arrow-right { right: 10%; }

        /* Wizard Footer Buttons */
        .wizard-footer {
            width: 100%;
            display: flex;
            justify-content: space-between;
            margin-top: auto;
            padding: 2rem 0;
        }

        .btn-wizard {
            background-color: var(--primary-dark);
            color: white;
            padding: 0.8rem 3rem;
            border-radius: 6px;
            border: none;
            font-size: 1rem;
            transition: background-color 0.2s;
        }
        
        .btn-wizard:hover {
            background-color: #000;
            color: white;
        }

        /* View Switching */
        .view-section {
            display: none;
            width: 100%;
            height: 100%;
        }

        .view-section.active {
            display: flex;
            flex-direction: column;
        }
        
        footer {
            background-color: #999;
            color: white;
            padding: 1.5rem;
            text-align: center;
            font-size: 0.9rem;
            z-index: 10;
        }

    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <!-- Brand with Radial Progress Wrapper -->
             <div class="logo-progress-container">
                 <!-- Progress Ring SVG (Visible only in Wizard) -->
                <svg class="progress-ring" width="70" height="70" id="progressRing">
                    <circle class="progress-ring__bg" stroke-dasharray="200" stroke-dashoffset="0" cx="35" cy="35" r="30" />
                    <circle class="progress-ring__circle" stroke-dasharray="200" stroke-dashoffset="200" cx="35" cy="35" r="30" id="progressCircle" />
                </svg>
                
                <a class="navbar-brand m-0" href="#" onclick="navigateTo('home')">
                    G<i class="fa-solid fa-dna dna-icon"></i>
                </a>
             </div>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Regular Nav Links (Hidden in Wizard? Kept for now based on wireframe having user icon) -->
            <div class="collapse navbar-collapse justify-content-center" id="navLinksContainer">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
                </ul>
            </div>

            <div class="user-avatar ms-auto">
                <i class="fa-solid fa-user-doctor text-dark"></i>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-container">
        
        <!-- --- HOME VIEW --- -->
        <div id="view-home" class="view-section active hero-section">
            <h1 class="hero-title">Genomic Orchestra</h1>
            <p class="hero-description">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ac bibendum libero. 
                Phasellus non erat et velit dapibus sollicitudin id sit amet lacus. Etiam urna sapien, 
                lobortis vitae felis non, molestie hendrerit diam.
            </p>

            <div class="dome-container">
                <button class="action-btn" onclick="navigateTo('create-step-1')">
                    Create your Symphony
                </button>
                <button class="action-btn" onclick="navigateTo('load')">
                    Load Symphonies
                </button>
            </div>
        </div>

        <!-- --- CREATE VIEW: STEP 1 (Phylogeny) --- -->
        <div id="view-create-step-1" class="view-section wizard-container">
            <h2 class="wizard-title">Phylogeny</h2>
            <p class="text-center text-muted mb-4" style="max-width: 700px;">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ac bibendum libero. 
                Phasellus non erat et velit dapibus sollicitudin id sit amet lacus.
            </p>

            <!-- Search -->
            <div class="wizard-search">
                <i class="fa-solid fa-bars text-secondary me-2"></i>
                <input type="text" placeholder="Hinted search text">
                <i class="fa-solid fa-magnifying-glass text-secondary"></i>
            </div>

            <!-- Custom Carousel -->
            <div class="phylogeny-carousel">
                <i class="fa-solid fa-arrow-left nav-arrow arrow-left" onclick="moveCarousel(-1)"></i>
                
                <!-- Cards will be rendered here by JS -->
                <div id="card-container" style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
                    <!-- Javascript will inject cards here -->
                </div>

                <i class="fa-solid fa-arrow-right nav-arrow arrow-right" onclick="moveCarousel(1)"></i>
            </div>

            <!-- Footer Buttons -->
            <div class="wizard-footer">
                <button class="btn-wizard" onclick="navigateTo('home')">Back</button>
                <button class="btn-wizard" onclick="alert('Proceeding to Step 2...')">Next</button>
            </div>
        </div>

        <!-- PLACEHOLDER: LOAD VIEW -->
        <div id="view-load" class="view-section align-items-center justify-content-center" style="flex-grow:1; background: #f8f9fa;">
            <div class="text-center">
                <h2>Load Symphonies Interface</h2>
                <button class="btn btn-secondary mt-3" onclick="navigateTo('home')">Back Home</button>
            </div>
        </div>

    </main>

    <footer>
        Footer Content HERE
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- App Logic -->
    <script>
        // --- State ---
        let currentStep = 0; // 0 = Home, 1-6 = Wizard
        const totalSteps = 6;
        
        // --- Carousel Data ---
        const phylogenies = [
            { id: 1, title: 'Phylogeny 1' },
            { id: 2, title: 'Phylogeny 2' },
            { id: 3, title: 'Phylogeny 3' },
            { id: 4, title: 'Phylogeny 4' },
            { id: 5, title: 'Phylogeny 5' }
        ];
        let currentCardIndex = 0;

        // --- Navigation Router ---
        function navigateTo(viewId) {
            // Hide all views
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));

            // Show target
            const target = document.getElementById(`view-${viewId}`);
            if (target) {
                target.classList.add('active');
            }

            // Logic specific to views
            const progressRing = document.getElementById('progressRing');
            const navLinks = document.getElementById('navLinksContainer');

            if (viewId === 'home') {
                currentStep = 0;
                progressRing.style.display = 'none';
                if(navLinks) navLinks.style.opacity = '1';
            } else if (viewId.startsWith('create-step')) {
                // Determine step number
                if (viewId === 'create-step-1') currentStep = 1;
                
                // Show/Update Progress Ring
                progressRing.style.display = 'block';
                updateProgress(currentStep, totalSteps);
                
                // Render Carousel if on step 1
                if (currentStep === 1) renderCarousel();
                
                // Optionally hide standard nav links to focus user
                if(navLinks) navLinks.style.opacity = '0'; 
            }
        }

        // --- Progress Ring Logic ---
        function updateProgress(step, total) {
            const circle = document.getElementById('progressCircle');
            const radius = circle.r.baseVal.value;
            const circumference = radius * 2 * Math.PI;
            
            circle.style.strokeDasharray = `${circumference} ${circumference}`;
            
            // Calculate offset
            // Step 1 should show 1/6th filled
            const percent = step / total;
            const offset = circumference - (percent * circumference);
            
            circle.style.strokeDashoffset = offset;
        }

        // --- Carousel Logic ---
        function renderCarousel() {
            const container = document.getElementById('card-container');
            container.innerHTML = ''; // Clear

            phylogenies.forEach((phylo, index) => {
                const card = document.createElement('div');
                card.className = `phylo-card ${getCardClass(index)}`;
                card.innerHTML = `
                    <h3>${phylo.title}</h3>
                    <div class="phylo-image-placeholder">
                        <i class="fa-regular fa-image fa-3x text-secondary"></i>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function getCardClass(index) {
            if (index === currentCardIndex) return 'active';
            
            // Handle wrapping for previous/next visual logic if strictly needed, 
            // but for this linear list, we just check adjacency.
            // Simplified logic for "infinite" feel or bounded list.
            // Let's do bounded for simplicity first.
            
            if (index === currentCardIndex - 1) return 'prev';
            if (index === currentCardIndex + 1) return 'next';
            return 'hidden';
        }

        function moveCarousel(direction) {
            const nextIndex = currentCardIndex + direction;
            
            // Boundary checks
            if (nextIndex >= 0 && nextIndex < phylogenies.length) {
                currentCardIndex = nextIndex;
                renderCarousel();
            }
        }

    </script>
</body>
</html>